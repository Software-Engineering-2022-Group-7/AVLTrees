{% extends "base.html" %}
{% block title %}
<title>Visualization</title>
{% endblock %}

{% block content %}
<main class="visualization_main" id="visualization_main">
    <h1>Canvas</h1>
    <div class="toolbox">
        <div class="input-group">
            <input id="numInput" type="text" class="form-control" placeholder="Enter Key"
                   aria-label="Insert block">
            <button id="InputBtn" onclick="getInput()" class="btn btn-outline-secondary" type="button">INSERT</button>
            <input id="numDelete" type="text" class="form-control" placeholder="Enter Key"
                   aria-label="Delete block">
            <button id="DeleteBtn" onclick="deleteInput()" class="btn btn-outline-secondary" type="button">DELETE
            </button>
            <button onclick="ResetCanvas()" id="reset" type="reset"
                    class="btn btn-outline-secondary">RESET
            </button>
            <div class="input-group-text" id="rangeBar">SPEED</div>
            <label for="SpeedRange"></label><input type="range" class="form-range" id="SpeedRange">
            <div class="input-group-text" id="SpeedIndication">50%</div>
            <button id="SmallBtn" onclick="document.getElementById('explanation_card').style.fontSize='smaller'"
                    class="btn btn-outline-secondary" type="button">-A
            </button>
            <button id="resetBtn" onclick="document.getElementById('explanation_card').style.fontSize='initial'"
                    class="btn btn-outline-secondary" type="button" style="border-left: none">A
            </button>
            <button id="BigBtn" onclick="document.getElementById('explanation_card').style.fontSize='larger'"
                    class="btn btn-outline-secondary" type="button" style="border-left: none">A+
            </button>
        </div>
    </div>

    <div class="visualization_wrapper">
        {#canvas#}
        <canvas id="canvas" width="850" height="500"></canvas>

        {#explanation#}
        <div class="explanation_card" id="explanation_card">
            <div class="code_box">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Code Box</h5>
                        <div class="card-text" id="code_display">
                            The corresponding pseudocode will be displayed here.<br><br>
                            Note due to the scale of the canvas, any node after level 4 cannot be properly shown.
                        </div>
                    </div>
                </div>
            </div>
            <div class="explanation_explanation_box">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Explanation Box</h5>
                        <h6 class="card-subtitle mb-2 text-muted" id="explanationTitle">Current Action: None</h6>
                        <div class="card-text" id="explanation">
                            The corresponding explanation
                            will be displayed here. Have fun!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {#Js files#}
    <script src="/static/AVL.js"></script>
    <script src="/static/AVL-private.js"></script>
    <script src="/static/visualization.js"></script>
    <script src="/static/visualization_listeners.js"></script>
    <script src="/static/circle.js"></script>
    <script src="/static/edge.js"></script>
    <script src="/static/outputBox.js"></script>

</main>
{% endblock %}